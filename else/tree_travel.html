<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta description="数据结构排序算法">
    <meta keyword="数据结构 排序 算法 可视化 演示">
    <title>树的遍历 - 数据结构演示</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/stylesheet.css">
    <script src="js/jquery-2.1.3.min.js"></script>
    <style>
       * {
            box-sizing: border-box;
        }
        a {
            color: #fff;
            text-decoration: none;
            outline: none;
        }
        ol,
        ul,
        li {
            list-style: none;
        }
        .head-nav-con {
			display: inline-block;
        }
        .head-nav-con ul li {
            text-align: center;
        }
        .head-nav-con ul li:hover {
            background: #4F4F4F;
        }
        .head-nav-con ul a {
            display: block;
            text-decoration: none;
            text-align: center;
			width:120px;
            color: white;
        }
        .head-nav-con .drop-down {
            position: relative;
        }
        .head-nav-con .drop-down-content {
            padding: 0;
            display: none;
            position: absolute;
            background: #000000;
        }
        .head-nav-con .drop-down-content li:hover > a {
            background-color:#4F4F4F;
        }
        .head-nav-con .drop-down:hover .drop-down-content {
            display: block;
        }
        .head-nav-con .drop-down-2 {
            position: relative;
        }
        .head-nav-con .drop-down-content-2 {
            padding: 0;
            display: none;
            position: absolute;
            background-color: #000000;
            right: -130px;
            top: 0;
        }
        .head-nav-con .drop-down-content-2 > li {
            float: none;
            background-color: #000000;
        }
        .head-nav-con .drop-down-content-2 li:hover a {
            background-color: #4F4F4F;
        }
        .head-nav-con .drop-down-2:hover .drop-down-content-2 {
            display: block;
        }
        body {
            height: 100%;
        }
        #left-bar {
            position: absolute;
            float: left;
            width: 40px;
            top:0;
            bottom: 0;
            background: #000000;
            z-index: -1;
        }
        #right-bar {
            position: absolute;
            float: right;
            width: 40px;
            top:0;
            bottom: 0;
            right:0;
            background: #000000;
            z-index: -1;
        }
        #container{
            /*margin: 0 auto;*/
            margin-top: 10px;
            width: 1024px;
            height: 600px;;
            /*border: 1px solid #bbbbbb;*/
        }

        #container > div{
            float: left;
            position: absolute;
        }

        button, input {
            position: absolute;
            width: 150px;
            height: 40px;
            font-size: 16px;;
        }

        .circle {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            line-height: 25px;
            border: 3px solid #000000;
            text-align: center;
            font-size: 18px;
            z-index: 99;

            -webkit-transition: all 300ms ease-in-out;
            -moz-transition: all 300ms ease-in-out;
            -o-transition: all 300ms ease-in-out;
            transition: all 300ms ease-in-out;
        }

        .line {
            width: 77px;
            height: 3px;
            background: #000000;
            transform:rotate(-45deg);
            -ms-transform:rotate(-45deg); 	/* IE 9 */
            -moz-transform:rotate(-45deg); 	/* Firefox */
            -webkit-transform:rotate(-45deg); /* Safari 和 Chrome */
            -o-transform:rotate(-45deg); 	/* Opera */
            z-index: 98;

            -webkit-transition: all 300ms ease-in-out;
            -moz-transition: all 300ms ease-in-out;
            -o-transition: all 300ms ease-in-out;
            transition: all 300ms ease-in-out;
        }


        .line-r {
            transform:rotate(45deg);
            -ms-transform:rotate(45deg); 	/* IE 9 */
            -moz-transform:rotate(45deg); 	/* Firefox */
            -webkit-transform:rotate(45deg); /* Safari 和 Chrome */
            -o-transform:rotate(45deg); 	/* Opera */
        }

        #c-a {
            left: 400px;
            top:100px;
        }

        #c-b {
            left: 325px;
            top:175px;
        }

        #c-c {
            left: 475px;
            top:175px;
        }

        #c-d {
            left: 250px;
            top:250px;
        }

        #c-e {
            left: 400px;
            top: 250px;
        }

        #c-f {
            left: 550px;
            top: 250px;
        }

        #c-g {
            left: 175px;
            top: 325px;
        }

        #c-h {
            left: 325px;
            top: 325px;
        }

        #c-i {
            left: 475px;
            top: 325px;
        }

        #c-j {
            left: 625px;
            top: 325px;
        }




        #l-ab {
            left: 339px;
            top: 150px;
        }

        #l-ac {
            left: 417px;
            top: 150px;
        }

        #l-bd {
            left: 264px;
            top: 225px;
        }

        #l-dg {
            left: 189px;
            top: 300px;
        }

        #l-eh {
            left: 339px;
            top: 300px;
        }

        #l-fi {
            left: 489px;
            top: 300px;
        }

        #l-ce {
            left: 414px;
            top: 225px;
        }

        #l-cf {
            left: 492px;
            top: 225px;
        }

        #l-fj {
            left: 567px;
            top: 300px;
        }

        #info2 {
            right: 0;
            bottom: 145px;
            width: 40px;
            height: 50px;
            background: rgb(214, 87, 117);
        }

        #info {
            bottom: 145px;
            right: 45px;
            height: 50px;
            width: 300px;
            color: white;
            background: rgb(214, 87, 117);
        }

        #info > p{
            padding-top: 10px;
            padding-left: 10px;
        }

        #code2 {
            bottom: 40px;
            right: 0;
            width: 40px;
            height: 99px;
            background: rgb(217, 81, 60);
        }

        #code {
            bottom: 40px;
            right: 45px;
            width: 300px;
            background: rgb(217, 81, 60);
            font-family: 'Courier New', Courier, monospace;
        }

        #code>p{
            padding-left: 10px;
            line-height: 25px;
            font-size: 13px;
        }

        #start {
            bottom: 200px;
            height: 40px;
            width: 70px;
            left: 45px;
            background: rgb(214, 87, 117);
            text-align: center;
            cursor: pointer;
            z-index: 99;
        }


        #start:hover {
            background: rgb(209, 67, 100);
        }

        #start-p{
            line-height: 40px;
            color: white;
            -webkit-user-select:none;
            -moz-user-select:none;
            -ms-user-select:none;
            user-select:none;
        }

        #start2 {
            bottom: 200px;
            height: 40px;
            width: 40px;
            background: rgb(214, 87, 117);
        }

        #start3 {
            bottom: 155px;
            height: 40px;
            width: 40px;
            background: rgb(214, 87, 117);
        }

        #result {
            left: 200px;
            bottom: 200px;
        }
        
        .circle-r{
            float: left;
            margin-left: 10px;
            margin-top: 5px;
        }



        .speed {
            bottom: 155px;
            height: 40px;
            width: 70px;
            left: 45px;
            background: rgb(214, 87, 117);
            text-align: center;
            cursor: pointer;
            z-index: 99;
        }


        .speed:hover {
            background: rgb(209, 67, 100);
        }

        .speed>p{
            line-height: 40px;
            color: white;
            -webkit-user-select:none;
            -moz-user-select:none;
            -ms-user-select:none;
            user-select:none;
        }

        #speed-down {
            width: 50px;
        }

        #speed-default {
            left: 96px;
        }

        #speed-up {
            width: 50px;
            left: 167px;
        }
    </style>
</head>

<body>
<div id="left-bar"></div>
<div id="right-bar"></div>
    <div id="top-bar">
        <a id="home" href="index.html">
            数据结构
            <span class="colour" style="color: rgb(75, 101, 186);">
                演示平台
            </span>
        </a>&nbsp;&nbsp;&nbsp;
        <span id="title">
			<div class="head-nav-con">
                <ul>
                    <li class="drop-down"><a href="list.html">线性表</a>
                        <ul class="drop-down-content">
                            <li class="drop-down-2"><a href="list.html">链表</a>
                                <ul class="drop-down-content-2">
                                    <li><a id="title-LL" href="list.html">单链表</a></li>
                                    <li><a id="title-DLL" href="list.html">双链表</a></li>
                                </ul>
                            </li>
					       <li class="drop-down-2"><a href="#">顺序表</a> </li>
                            <li class="drop-down-2"><a href="#">多项式计算</a>
                           </li>
                        </ul>
                    </li>
                </ul>
           </div>
		   <div class="head-nav-con">
                <ul>
                    <li class="drop-down"><a href="#">栈、队列和递归</a>
                        <ul class="drop-down-content">
                            <li class="drop-down-2"><a href="list.html">栈</a>
                                <ul class="drop-down-content-2">
                                    <li><a id="title-Stack" href="list.html">栈</a></li>>
                                </ul>
                            </li>
                            <li class="drop-down-2"><a href="list.html">队列</a>
                                <ul class="drop-down-content-2">
                                    <li><a id="title-Queue" href="list.html">队列</a></li>
                                    <li><a id="title-Deque" href="list.html">双向队列</a></li>
                                </ul>
                           </li>
						   <li class="drop-down-2"><a href="#">递归</a>
                           </li>
                        </ul>
                    </li>
                </ul>
           </div>
		  <div class="head-nav-con">
                <ul>
                    <li class="drop-down"><a href="tree_travel.html">树</a>
                        <ul class="drop-down-content">
                            <li class="drop-down-2"><a href="tree_travel.html">树的遍历</a>
                                <ul class="drop-down-content-2">
                                    <li><a href="tree_travel.html">前序遍历</a></li>
                                    <li><a href="tree_travel_m.html">中序遍历</a></li>
									<li><a href="tree_travel_b.html">后序遍历</a></li>
									<li><a href="tree_travel_l.html">层次遍历</a></li>
                                </ul>
                            </li>
                            <li class="drop-down-2"><a href="bst.html">二叉树</a>
                                <ul class="drop-down-content-2">
                                    <li><a id="title-BST" href="bst.html">二叉搜素树</a></li>
                                    <li><a id="title-AVL" href="bst.html">平衡二叉搜素树</a></li>
                                </ul>
                           </li>
                        </ul>
                    </li>
                </ul>
           </div>
		  <div class="head-nav-con">
                <ul>
                    <li class="drop-down"><a href="graphds.html">图</a>
                        <ul class="drop-down-content">
                            <li class="drop-down-2"><a href="graphds.html">图结构</a>
                                <ul class="drop-down-content-2">
                                    <li><a id="menu1" onclick="GraphVisu(true,true);"href="graphds.html">无向/不带权</a></li>
                                    <li><a id="menu1" onclick="GraphVisu(true,true);"href="graphds.html">无向/带权</a></li>
									<li><a id="menu1" onclick="GraphVisu(true,true);"href="graphds.html">有向/不带权</a></li>
									<li><a id="menu1" onclick="GraphVisu(true,true);"href="graphds.html">有向/带权</a></li>
                                </ul>
                            </li>
                            <li class="drop-down-2"><a href="dfsbfs.html">图的遍历</a>
                            </li>
                            <li class="drop-down-2"><a href="mst.html">最小生成树</a>
                           </li>
                        </ul>
                    </li>
                </ul>
           </div>
		  <div class="head-nav-con">
                <ul>
                    <li class="drop-down"><a href="search.html">查找</a>
                        <ul class="drop-down-content">
                            <li class="drop-down-2"><a href="search.html">查找基础</a>
                                <ul class="drop-down-content-2">
                                    <li><a href="search.html">顺序查找</a></li>
                                    <li><a href="search.html">二分查找</a></li>
                                </ul>
                            </li>
                            <li class="drop-down-2"><a href="search.html">分块与所有</a>
                            </li>
                            <li class="drop-down-2"><a href="hashtable.html">散列</a>
                                <ul class="drop-down-content-2">
                                    <li><a href="hashtable.html">线性探查</a></li>
                                    <li><a href="hashtable.html">二次探查</a></li>
									<li><a href="hashtable.html">双重散列</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
           </div>
		  <div class="head-nav-con">
                <ul>
                    <li class="drop-down"><a href="sorting.html">排序</a>
                        <ul class="drop-down-content">
                            <li class="drop-down-2"><a href="sorting.html">插入</a>
                                <ul class="drop-down-content-2">
                                    <li><a id="title-Insertion" class="">直接插入</a></li>
                                    <li><a href="#">希尔</a></li>
                                </ul>
                            </li>
                            <li class="drop-down-2"><a href="sorting.html">交换</a>
                                <ul class="drop-down-content-2">
                                    <li><a id="title-Bubble" class="selected-viz">冒泡</a></li>
                                    <li><a id="title-Quick" href="sorting.html">快速</a></li>
                                </ul>
                            </li>
                            <li class="drop-down-2"><a href="sorting.html">选择</a>
                                <ul class="drop-down-content-2">
                                    <li><a id="title-Selection" class="">直接选择</a></li>
                                    <li><a href="ex/heap.html">堆排序</a></li>
                                </ul>
                            </li>
                            <li class="drop-down-2"><a id="title-Merge" href="sorting.html">归并</a>
                           </li>
                        </ul>
                    </li>
                </ul>
           </div>
        </span>
    </div>
    <div id="container">
        <div id="c-a" class="circle">A</div>
        <div id="c-b" class="circle">B</div>
        <div id="c-c" class="circle">C</div>
        <div id="c-d" class="circle">D</div>
        <div id="c-e" class="circle">E</div>
        <div id="c-f" class="circle">F</div>
        <div id="c-g" class="circle">G</div>
        <div id="c-h" class="circle">H</div>
        <div id="c-i" class="circle">I</div>
        <div id="c-j" class="circle">J</div>


        <div id="l-ab" class="line"></div>
        <div id="l-ac" class="line line-r"></div>
        <div id="l-cf" class="line line-r"></div>
        <div id="l-fj" class="line line-r"></div>
        <div id="l-bd" class="line"></div>
        <div id="l-ce" class="line"></div>
        <div id="l-dg" class="line"></div>
        <div id="l-eh" class="line"></div>
        <div id="l-fi" class="line"></div>

        <div id="result">
            遍历结果:
            <div id="result-container">
                <div class="circle circle-r" style="opacity: 0"></div>
            </div>
        </div>

        <div id="info2"></div>
        <div id="code2"></div>

        <div id="info">
            <p id="info-p"></p>
        </div>

        <div id="code">
            <p id="code-1">if this is null</p>
            <p id="code-2">&nbsp;&nbsp;&nbsp;&nbsp;return</p>
            <p id="code-3">visit this</p>
            <p id="code-4">beforeOrder(left), beforeOrder(right)</p>
        </div>

        <div id="start" class="click"><p id="start-p">开始遍历</p></div>

        <div id="start2"></div>
        <div id="start3"></div>

        <div id="speed-down" class="speed"><p>减速</p></div>
        <div id="speed-default" class="speed"><p>恢复默认</p></div>
        <div id="speed-up" class="speed"><p>加速</p></div>


    </div>
</body>



<script>
    // INIT, ING, PAUSE, STOP

    var TOTAL_STEP = 29;
    var CURRENT_STEP = 0;
    var DEFAULT_SPEED = 800;
    /**
     * DO NOT CHANGE
     * @type {string}
     */
    var CURRENT_STATUS = "INIT";

    function init() {
        var i = 0;
        var circles = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J"];
        var lines = ["AB", "BD", "DG", "AC", "CE", "EH", "CF", "FI", "FJ"];
        for(i = 0; i < circles.length; i ++) {
            deLightCircle(circles[i]);
        }
        for(i = 0; i < lines.length; i ++) {
            deLightLine(lines[i]);
        }
        $("#result-container").html("<div class=\"circle circle-r\" style=\"opacity: 0\"></div>");
        CURRENT_STEP = 0;
    }

    function stop() {
        setText("遍历结束");
        $(".circle-r").css("border-color", "rgb(255, 138, 39)")
                .css("background-color", "rgb(255, 138, 39)")
                .css("color", "#FFFFFF");
        window.setTimeout(function(){
            $(".circle-r").css("border-color", "#000000")
                    .css("background-color", "rgba(0,0,0,0)")
                    .css("color", "#000000");
        }, 300);
    }

    function step(num) {
        switch (num) {
            case 1:
                    lightCircle("A");
                    setText("访问根节点 A, 非空");
                    setCode(1);
                break;
            case 2:
                    doneCircle("A");
                    setText("遍历输出 A 节点");
                    addResult("A");
                    setCode(3);
                break;
            case 3:
                    lightLine("AB");
                    setCode(4);
                break;
            case 4:
                    lightCircle("B");
                    setText("访问节点 B, 非空");
                    setCode(1);
                break;
            case 5:
                    doneCircle("B");
                    setText("遍历输出 B 节点");
                    addResult("B");
                    setCode(3);
                break;
            case 6:
                lightLine("BD");
                setCode(4);
                break;
            case 7:
                lightCircle("D");
                setText("访问节点 D, 非空");
                setCode(1);
                break;
            case 8:
                doneCircle("D");
                setText("遍历输出 D 节点");
                addResult("D");
                setCode(3);
                break;
            case 9:
                lightLine("DG");
                setCode(4);
                break;
            case 10:
                lightCircle("G");
                setText("访问节点 G, 非空");
                setCode(1);
                break;
            case 11:
                doneCircle("G");
                setText("遍历输出 G 节点");
                addResult("G");
                setCode(3);
                break;

            case 12:
                lightLine("AC");
                setCode(4);
                break;
            case 13:
                lightCircle("C");
                setText("访问节点 C, 非空");
                setCode(1);
                break;
            case 14:
                doneCircle("C");
                setText("遍历输出 C 节点");
                addResult("C");
                setCode(3);
                break;

            case 15:
                lightLine("CE");
                setCode(4);
                break;
            case 16:
                lightCircle("E");
                setText("访问节点 E, 非空");
                setCode(1);
                break;
            case 17:
                doneCircle("E");
                setText("遍历输出 E 节点");
                addResult("E");
                setCode(3);
                break;

            case 18:
                lightLine("EH");
                setCode(4);
                break;
            case 19:
                lightCircle("H");
                setText("访问节点 H, 非空");
                setCode(1);
                break;
            case 20:
                doneCircle("H");
                setText("遍历输出 H 节点");
                addResult("H");
                setCode(3);
                break;

            case 21:
                lightLine("CF");
                setCode(4);
                break;
            case 22:
                lightCircle("F");
                setText("访问节点 F, 非空");
                setCode(1);
                break;
            case 23:
                doneCircle("F");
                setText("遍历输出 F 节点");
                addResult("F");
                setCode(3);
                break;

            case 24:
                lightLine("FI");
                setCode(4);
                break;
            case 25:
                lightCircle("I");
                setText("访问节点 I, 非空");
                setCode(1);
                break;
            case 26:
                doneCircle("I");
                setText("遍历输出 I 节点");
                addResult("I");
                setCode(3);
                break;

            case 27:
                lightLine("FJ");
                setCode(4);
                break;
            case 28:
                lightCircle("J");
                setText("访问节点 J, 非空");
                setCode(1);
                break;
            case 29:
                doneCircle("J");
                setText("遍历输出 J 节点");
                addResult("J");
                setCode(3);
                break;
        }
    }

    $(document).ready(function() {
//        $("#start").click();
    });


    $("#speed-up").click(function () {
        if(DEFAULT_SPEED <= 300) {
            alert("已达到最快速度");
        } else {
            DEFAULT_SPEED -= 100;
        }
    });


    $("#speed-down").click(function () {
        DEFAULT_SPEED += 100;
    });

    $("#speed-default").click(function () {
        DEFAULT_SPEED = 800;
    });

    $(".speed, .click").mousedown(function () {
        $(this).css("background-color", "rgb(201, 49, 85)");
    }).mouseup(function () {
        $(this).css("background-color", "rgb(214, 87, 117)");
    });

    $("#code").mouseover(function () {
        $(this).css("color", "#FFFFFF");
    }).mouseleave(function () {
        $(this).css("color", "#000000");
    });

    $("#start").click(function() {
        switch (CURRENT_STATUS) {
            case "INIT":
                //开始遍历
                _setBtn("暂停");
                CURRENT_STATUS = "ING";
                resume();
                break;
            case "ING":
                //暂停遍历
                _setBtn("继续");
                CURRENT_STATUS = "PAUSE";
                break;
            case "PAUSE":
                //继续遍历
                _setBtn("暂停");
                CURRENT_STATUS = "ING";
                resume();
                break;
            case "STOP":
                //重新开始遍历
                _setBtn("暂停");
                CURRENT_STATUS = "ING";
                init();
                resume();
                break;
        }
    });


    function resume() {
        if(CURRENT_STATUS == "ING" && CURRENT_STEP < TOTAL_STEP) {
            CURRENT_STEP += 1;
            step(CURRENT_STEP);
//            alert(CURRENT_STEP);
            if(CURRENT_STEP == TOTAL_STEP) {
                // 结束了
                _setBtn("重新开始");
                CURRENT_STATUS = "STOP";
                window.setTimeout(stop, 300);
            } else {
                window.setTimeout(resume, DEFAULT_SPEED);
            }
        }
    }

    function lightCircle(char) {
        _highLight(getCircle(char));
    }

    function doneCircle(char) {
        _done(getCircle(char));
    }

    function deLightCircle(char) {
        _deLight(getCircle(char));
    }

    function lightLine(char) {
        _highLight(getLine(char));
    }

    function deLightLine(char){
        _deLight(getLine(char));
    }

    function getCircle(char) {
        return $("#c-" + char.toLowerCase());
    }

    function getLine(char) {
        return $("#l-" + char.toLowerCase());
    }

    function _highLight(object) {
        if(object.hasClass("circle")) {
            object.css("border-color", "rgb(255, 138, 39)")
                    .css("background-color", "#FFFFFFFF")
                    .css("color", "rgb(255, 138, 39)");
        } else {
            object.css("background-color", "rgb(255, 138, 39)");
        }
    }

    function _done(object) {
        if(object.hasClass("circle")) {
            object.css("border-color", "rgb(255, 138, 39)")
                    .css("background-color", "rgb(255, 138, 39)")
                    .css("color", "#FFFFFF");
        }
    }

    function _deLight(object) {
        if(object.hasClass("circle")) {
            object.css("border-color", "#000000")
                    .css("background-color", "rgba(0,0,0,0)")
                    .css("color", "#000000");
        } else {
            object.css("background-color", "#000000");
        }
    }

    function setText(str) {
        $("#info-p").html(str);
    }

    function setCode(line) {
        __heightLightCode(line);
    }

    function __heightLightCode(line) {
        $("#code-" + line).css("background-color", "#000000").css("color", "#FFFFFF")
                .siblings().css("background-color", "rgb(217, 81, 60)").css("color", "#000000")
    }

    function _setBtn(str) {
        $("#start-p").html(str);
    }

    function addResult(char) {
        $("#result-container").append("<div id=\"cr-" + char + "\" class=\"circle circle-r\">" + char + "</div>");
    }

</script>

</html>
